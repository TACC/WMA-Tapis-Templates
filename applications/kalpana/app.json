{
  "id": "kalpana",
  "version": "1.0.2",
  "description": "Kalpana converts ADCIRC output files in netCDF format to GIS shapefiles.",
  "owner": "${apiUserId}",
  "enabled": true,
  "runtime": "ZIP",
  "runtimeVersion": null,
  "runtimeOptions": null,
  "containerImage": "tapis://cloud.data/corral/tacc/aci/CEP/applications/v3/kalpana/kalpana_1.0.2.zip",
  "jobType": "BATCH",
  "maxJobs": -1,
  "maxJobsPerUser": -1,
  "strictFileInputs": true,
  "jobAttributes": {
    "description": "",
    "dynamicExecSystem": false,
    "execSystemConstraints": null,
    "execSystemId": "frontera",
    "execSystemExecDir": "${JobWorkingDir}",
    "execSystemInputDir": "${JobWorkingDir}",
    "execSystemOutputDir": "${JobWorkingDir}/output",
    "execSystemLogicalQueue": "small",
    "archiveSystemId": "cloud.data",
    "archiveSystemDir": "HOST_EVAL($HOME)/tapis-jobs-archive/${JobCreateDate}/${JobName}-${JobUUID}",
    "archiveOnAppError": true,
    "isMpi": false,
    "mpiCmd": null,
    "cmdPrefix": null,
    "parameterSet": {
      "appArgs": [
        {
          "name": "Contour information",
          "description": "Please enter contour information; for contourrange use format 'min max interval' (e.g. '0 5 0.5') and for contourlevel provide custom set of contourlevels (e.g. '0 1 2 3 4 5 6 7 8 9 10 11 12').",
          "inputMode": "REQUIRED",
          "arg": null
        }
      ],
      "containerArgs": [],
      "schedulerOptions": [
        {
          "name": "TACC Scheduler Profile",
          "description": "Scheduler profile for HPC clusters at TACC",
          "inputMode": "FIXED",
          "arg": "--tapis-profile tacc-apptainer",
          "notes": {
            "isHidden": true
          }
        },
        {
          "name": "Slurm job name",
          "description": "Set the slurm job name to be identical to the Tapis job name.",
          "inputMode": "FIXED",
          "arg": "--job-name ${JobName}",
          "notes": {
            "isHidden": true
          }
        }
      ],
      "envVariables": [
        {
          "key": "filetype",
          "value": "",
          "description": "Please enter maxele.63.nc for maximum water levels, or maxwvel.63.nc for maximum wind speeds.",
          "inputMode": "REQUIRED",
          "notes": {
            "label": "File type"
          }
        },
        {
          "key": "polytype",
          "value": "polygon",
          "description": "Please enter your choice of vector shape.",
          "inputMode": "REQUIRED",
          "notes": {
            "label": "Vector shape",
            "enum_values": [
              {
                "polyline": "polyline"
              },
              {
                "polyline": "polygon"
              }
            ]
          }
        },
        {
          "key": "contour",
          "value": "contourrange",
          "description": "Please enter your choice of contour type.",
          "inputMode": "REQUIRED",
          "notes": {
            "label": "Contour type",
            "enum_values": [
              {
                "contourrange": "contourrange"
              },
              {
                "contourlevel": "contourlevel"
              }
            ]
          }
        },
        {
          "key": "range",
          "value": "",
          "description": "Please enter contour information; for contourrange use format 'min max interval' (e.g. '0 5 0.5') and for contourlevel provide custom set of contourlevels (e.g. '0 1 2 3 4 5 6 7 8 9 10 11 12').",
          "inputMode": "REQUIRED",
          "notes": {
            "label": "Contour Information"
          }
        }
      ],
      "archiveFilter": {
        "includes": ["workingDirectory"],
        "excludes": [],
        "includeLaunchFiles": true
      }
    },
    "fileInputs": [
      {
        "name": "Working Directory",
        "description": "The directory containing the files that you want to work on. This directory and its files will be copied to where your kalpana session runs. You can drag the link for the directory from the Data Browser on the left, or click the 'Select Input' button and then select the directory.",
        "inputMode": "REQUIRED",
        "autoMountLocal": true,
        "sourceUrl": "tapis://cloud.data/corral/tacc/aci/CEP/applications/v3/kalpana",
        "targetPath": "workingDirectory"
      }
    ],
    "fileInputArrays": [],
    "nodeCount": 1,
    "coresPerNode": 16,
    "memoryMB": 92,
    "maxMinutes": 60,
    "subscriptions": [],
    "tags": []
  },
  "tags": ["portalName: DesignSafe"],
  "notes": {
    "icon": null,
    "label": "Kalpana",
    "helpUrl": "https://www.designsafe-ci.org/rw/user-guides/tools-applications/visualization/kalpana/",
    "hideNodeCountAndCoresPerNode": true,
    "category": "Visualization"
  }
}
